{% extends "base.html" %}

{% block chartsButton %}
    class="active"
{% endblock %}

{% block pageHeader %}
    Charts
    <small>Subheading</small>
{% endblock %}

{% block breadcrumb %}
<li>
    <i class="fa fa-dashboard"></i>  <a href="{% url 'index' %}">Dashboard</a>
</li>
<li class="active">
    <i class="fa fa-bar-chart-o"></i> Charts
</li>
{% endblock %}
{% block row %}
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-green">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-bar-chart-o"></i> Area Line Graph Example with Tooltips</h3>
            </div>
            <div class="panel-body">
                <div id="mychart"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block chartsData %}
<script>
    $(function () {
        new Morris.Line({
            // ID of the element in which to draw the chart.
            element: 'mychart',
            // Chart data records -- each entry in this array corresponds to a point on
            // the chart.
            data: [
                {% for packet in packets %}
                    {time: '{{packet.time_stamp|date:"c"}}', value: {{packet.data}} },
                {% endfor %}
            ],
            // The name of the data record attribute that contains x-values.
            xkey: 'time',
            // A list of names of data record attributes that contain y-values.
            ykeys: ['value'],
            // Labels for the ykeys -- will be displayed when you hover over the
            // chart.
            labels: ['Value'],
            postUnits: "&deg;C",
            resize: true
        });
    });
</script>
{% endblock %}
